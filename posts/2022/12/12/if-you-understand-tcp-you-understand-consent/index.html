<!doctype html><html lang=en><head><title>If you Understand TCP, you Understand Consent · Heap Overrun</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Joel Goguen"><meta name=description content="/ People act like consent is a hard thing. It's actually quite simple. If you can understand how a TCP connection works, you can understand how consent works."><meta name=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="If you Understand TCP, you Understand Consent"><meta name=twitter:description content="/ People act like consent is a hard thing. It's actually quite simple. If you can understand how a TCP connection works, you can understand how consent works."><meta property="og:title" content="If you Understand TCP, you Understand Consent"><meta property="og:description" content="/ People act like consent is a hard thing. It's actually quite simple. If you can understand how a TCP connection works, you can understand how consent works."><meta property="og:type" content="article"><meta property="og:url" content="https://jgoguen.ca/posts/2022/12/12/if-you-understand-tcp-you-understand-consent/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-12T00:00:00+00:00"><meta property="article:modified_time" content="2022-12-12T21:30:37-05:00"><link rel=canonical href=https://jgoguen.ca/posts/2022/12/12/if-you-understand-tcp-you-understand-consent/><link rel=preload href="https://jgoguen.ca/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=https://jgoguen.ca/css/coder.min.7f9d180e3b3bebba9ba80d55eed1255c35e00764872854736d6ad7db38884ffc.css integrity="sha256-f50YDjs767qbqA1V7tElXDXgB2SHKFRzbWrX2ziIT/w=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://jgoguen.ca/css/coder-dark.min.216e36d3eaf6f4cdfd67dc1200c49a8169e6478102977b3e9ac51a064c57054c.css integrity="sha256-IW420+r29M39Z9wSAMSagWnmR4ECl3s+msUaBkxXBUw=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://jgoguen.ca/sass/style.min.3883faa308771b21043df839bde4f99986a7eed407a6c0c2942edba5faa78163.css integrity="sha256-OIP6owh3GyEEPfg5veT5mYan7tQHpsDClC7bpfqngWM=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=https://jgoguen.ca/img/favicon_32x32.png sizes=32x32><link rel=icon type=image/png href=https://jgoguen.ca/img/favicon_16x16.png sizes=16x16><link rel=apple-touch-icon href=https://jgoguen.ca/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=https://jgoguen.ca/images/apple-touch-icon.png><link rel=manifest href=https://jgoguen.ca/site.webmanifest><link rel=mask-icon href=https://jgoguen.ca/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.109.0"><link rel=me href=https://infosec.exchange/@jgoguen></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=scroll-to-top class=hidden><i class="fa fa-arrow-up fa-fw" aria-hidden=true></i></a>
<a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://jgoguen.ca/>Heap Overrun</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://jgoguen.ca/about>About Me</a></li><li class=navigation-item><a class=navigation-link href=https://jgoguen.ca/docs/resume.pdf>Résumé</a></li><li class=navigation-item><a class=navigation-link href=https://jgoguen.ca/posts>Posts</a></li><li class=navigation-item><a class=navigation-link href=https://jgoguen.ca/contact>Contact Me</a></li></ul></section></nav><div class=content><div id=progress-bar class=hidden aria-hidden=true></div><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://jgoguen.ca/posts/2022/12/12/if-you-understand-tcp-you-understand-consent/>If you Understand TCP, you Understand Consent</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2022-12-12T00:00:00Z>December 12, 2022</time></span>
<span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2022-12-12T21:30:37-05:00>Updated: December 12, 2022</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
4-minute read</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=https://jgoguen.ca/tags/consent/>consent</a></span>
<span class=separator>•</span>
<span class=tag><a href=https://jgoguen.ca/tags/tcp/>TCP</a></span>
<span class=separator>•</span>
<span class=tag><a href=https://jgoguen.ca/tags/people/>people</a></span></div></div></header><div><p>If you can understand TCP, you can understand consent. It&rsquo;s really quite simple.
Here we&rsquo;ll look at how TCP flags (the original six plus <code>ECE</code> and <code>CWR</code>) map to
a conversation between two people.</p><p>Let&rsquo;s say you want to start talking to someone. In TCP, you start with the
three-way handshake:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>You ---  SYN  --&gt; Them
</span></span><span class=line><span class=cl>You &lt;--SYN/ACK--- Them
</span></span><span class=line><span class=cl>You ---  ACK  --&gt; Them
</span></span></code></pre></div><p>In human terms, a <code>SYN</code> (synchronize) expresses that you&rsquo;re asking to begin
a conversation, and an <code>ACK</code> (acknowledge) is how you acknowledge what the other
person has said. Note that both sides must explicitly begin the conversation and
both sides must acknowledge the other. If it doesn&rsquo;t happen like this, there is
no conversation.</p><p>At this point, a conversation has been started with explicit consent from both
people. It is highly important to note there is no way to force a conversation.
If someone doesn&rsquo;t want to talk, they cannot be forced to. The normal flow of
a conversation is simple. You talk to them:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>You ---Talk--&gt; Them
</span></span><span class=line><span class=cl>You &lt;-- ACK--- Them
</span></span></code></pre></div><p>Or they talk to you:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>You &lt;--Talk--- Them
</span></span><span class=line><span class=cl>You ---ACK --&gt; Them
</span></span></code></pre></div><p>However, sometimes something urgent comes up. There&rsquo;s two relevant TCP flags
here: <code>URG</code> (urgent) and <code>PSH</code> (push). <code>URG</code> tells the recipient (the other
person in our conversation) that what follows is urgent and must be processed
before anything else. <code>PSH</code> is similar, the recipient is asked to process each
chunk of information immediately as it arrives instead of gathering it up and
dealing with everything at once. A comparable occurrence in a conversation might
be that you have something they need to know right away, or they need you to do
something right away and ask questions later.</p><p>People sometimes get overwhelmed and ask you to slow down. In TCP, this is
signaled in the packet, and the receiver is expected to use the <code>ECE</code> (ECN-Echo,
where &ldquo;ECN&rdquo; means &ldquo;Explicit Congestion Notification&rdquo;) flag to acknowledge the
&ldquo;I&rsquo;m getting overwhelmed&rdquo; signal. That acknowledgment happens in TCP by setting
the <code>CWR</code> (Congestion Window Reduced) flag and actually slowing down as much as
needed until the recipient tells you they&rsquo;re feeling better.</p><p>Finally, consent is not consent unless it can be withdrawn for any or no reason
at all. For a conversation, that means either person can simply say &ldquo;this
conversation is over&rdquo; and walk away. In TCP, that&rsquo;s done with the <code>RST</code> (reset)
flag. When the <code>RST</code> flag is seen, both sides are to consider the conversation
abruptly over.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>You ---Talk--&gt; Them
</span></span><span class=line><span class=cl>You &lt;-- RST--- Them
</span></span><span class=line><span class=cl>(Nothing else may follow)
</span></span></code></pre></div><p>Of course, hopefully it doesn&rsquo;t come to that. It&rsquo;s always better when the
conversation ends on a more polite note. Yet again, TCP shows us how it&rsquo;s done:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>You ---  FIN  --&gt; Them
</span></span><span class=line><span class=cl>You &lt;--FIN/ACK--- Them
</span></span><span class=line><span class=cl>You ---  ACK  --&gt; Them
</span></span></code></pre></div><p>The <code>FIN</code> (finished) flag means you have nothing more to say. You are signalling
that you want to gracefully end the conversation. They agree to gracefully end
the conversation and acknowledge you, finished by you acknowledging them.</p><p>Now, I&rsquo;ve used a conversation as the real-world example, but anything involving
two people can be modeled with a TCP connection: relationships, friendships,
a date, going out to dinner, etc. If it involves two (or more!) people actively
engaging, the TCP model of consent applies. You may notice that there&rsquo;s nothing
here where one person forces or coerces another to listen. That&rsquo;s intentional!
It can&rsquo;t happen in TCP, one side cannot force a connection to be opened or to
remain open. It also must not happen in real life, you must never force or
coerce someone to engage with you in any way.</p><p>And there you have it, basic consent modeled by a simple technical process. If
you can understand how a TCP connection is set up, you have no excuse for not
understanding how consent works.</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2013 -
2022
Joel Goguen
·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=https://jgoguen.ca/js/coder.min.27afce394fb6284f521b3fbc9f6a8326342333c3092267f3944d770489876fed.js integrity="sha256-J6/OOU+2KE9SGz+8n2qDJjQjM8MJImfzlE13BImHb+0="></script>
<script src=https://jgoguen.ca/js/scrollbar.min.1eea81363c83b9d090626bcfd7b529574d2f1b23ddd40a5c76aea3dfd8810712.js integrity="sha256-HuqBNjyDudCQYmvP17UpV00vGyPd1Apcdq6j39iBBxI="></script></body></html>